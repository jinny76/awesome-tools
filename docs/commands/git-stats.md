# Git Stats (gs) - Git统计分析工具

Git仓库提交历史的深度分析工具，生成详细的统计报告和可视化图表。支持MCP集成，可在Claude Desktop和Cursor中直接使用。

## 快速开始

```bash
# 使用缩写命令 (推荐)
ats gs [选项]

# 完整命令
awesome-tools git-stats [选项]
```

## 命令选项

| 选项 | 说明 | 默认值 |
|------|------|--------|
| `-d, --dir <path>` | Git目录路径 | `.` (当前目录) |
| `-s, --since <date>` | 起始时间 | 无限制 |
| `-u, --until <date>` | 结束时间 | `now` |
| `-a, --author <pattern>` | 过滤特定作者 | 所有作者 |
| `-e, --exclude <patterns>` | 排除文件模式 (逗号分隔) | 无 |

### 时间格式示例
- 相对时间: `"1 month ago"`, `"2 weeks ago"`, `"3 days ago"`
- 绝对日期: `"2024-01-01"`, `"2024-01-15"`
- Git支持的格式: `"last Monday"`, `"yesterday"`

## 功能特性

- 📈 **作者统计** - 按作者统计提交数、新增/删除行数、净增行数
- 📁 **文件类型分析** - 按文件扩展名统计代码分布
- 📅 **每日活跃度** - 每日提交统计和可视化图表
- 🚫 **智能过滤** - 自动排除merge提交，只统计真实开发代码
- 📊 **可视化图表** - 使用横向条形图展示代码量分布

## 使用示例

### 基础用法

```bash
# 分析当前目录的所有历史
ats gs

# 分析指定目录
ats gs -d /path/to/project

# 分析最近一个月的提交
ats gs --since "1 month ago"

# 分析特定时间段
ats gs --since "2024-01-01" --until "2024-02-01"
```

### 进阶用法

```bash
# 分析特定作者的贡献
ats gs -a "张三" --since "1 month ago"

# 排除特定文件类型
ats gs -e "*.lock,node_modules/*,dist/*"

# 组合多个选项
ats gs -d ./project -s "1 week ago" -a "李四" -e "*.min.js,build/*"
```

## 输出示例

```
📊 正在分析Git仓库: /path/to/project
⏰ 时间范围: 1 month ago ~ now
🔍 统计范围: 当前分支 (排除merge提交，只统计真实开发代码量)

================================================================================
📈 Git 提交历史统计报告
================================================================================

📋 总体统计:
   提交数量: 25
   参与人数: 3
   新增行数: +2,847
   删除行数: -523
   净增行数: +2,324

👥 按作者统计 (按净增行数排序):
┌─────────────────────────┬────────┬──────────┬──────────┬──────────┬─────────────────────┐
│ 作者                    │ 提交数 │ 新增行数 │ 删除行数 │ 净增行数 │ 活跃期间            │
├─────────────────────────┼────────┼──────────┼──────────┼──────────┼─────────────────────┤
│ Alice Smith             │     15 │    +1,924 │     -342 │   +1,582 │ 2024/1/15 ~ 2024/2/10 │
│ Bob Johnson             │      8 │      +723 │     -156 │     +567 │ 2024/1/20 ~ 2024/2/8  │
│ Carol Wilson            │      2 │      +200 │      -25 │     +175 │ 2024/2/1 ~ 2024/2/5   │
└─────────────────────────┴────────┴──────────┴──────────┴──────────┴─────────────────────┘

📁 按文件类型统计:
┌──────────┬──────────┬──────────┬──────────┬─────────────────────────────────────┐
│ 扩展名   │ 新增行数 │ 删除行数 │ 净增行数 │ 占比                                │
├──────────┼──────────┼──────────┼──────────┼─────────────────────────────────────┤
│ .js      │    +1,234 │     -234 │   +1,000 │ ████████████████████░░░░░  (43.0%)  │
│ .vue     │      +890 │     -156 │     +734 │ ███████████████░░░░░░░░░░  (31.6%)  │
│ .css     │      +456 │      -89 │     +367 │ ████████░░░░░░░░░░░░░░░░░  (15.8%)  │
│ .json    │      +267 │      -44 │     +223 │ █████░░░░░░░░░░░░░░░░░░░░  (9.6%)   │
└──────────┴──────────┴──────────┴──────────┴─────────────────────────────────────┘

📅 每日提交统计:
┌────────────┬────────┬────────┬─────────────────────────────────────────────────────┐
│ 日期       │ 提交数 │ 净增行 │ 代码行数分布图                                      │
├────────────┼────────┼────────┼─────────────────────────────────────────────────────┤
│ 2024/1/15  │      3 │   +234 │ ████████░░░░░░░░░░░░░░░░░░░░░░░░░░░  (10.1%)        │
│ 2024/1/16  │      5 │   +456 │ ███████████████████░░░░░░░░░░░░░░░░  (19.6%)        │
│ 2024/1/17  │      2 │   +123 │ ████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░  (5.3%)         │
└────────────┴────────┴────────┴─────────────────────────────────────────────────────┘
```

## 实用场景

### 团队协作分析
```bash
# 查看团队成员本月贡献
ats gs --since "1 month ago"

# 分析特定成员的代码贡献
ats gs -a "team_member" --since "3 months ago"
```

### 项目进度追踪
```bash
# 查看本周代码变化
ats gs --since "1 week ago"

# 分析特定版本间的代码变化
ats gs --since "v1.0.0" --until "v2.0.0"
```

### 代码质量分析
```bash
# 排除自动生成的文件，只看源代码
ats gs -e "*.lock,*.min.js,dist/*,build/*"

# 分析测试代码的增长
ats gs -e "!*.test.js,!*.spec.js"
```

## 注意事项

1. **自动排除merge提交** - 工具会自动排除merge commit，只统计真实的开发提交
2. **文件模式匹配** - 支持通配符 `*` 进行文件排除
3. **大仓库性能** - 对于历史悠久的大型仓库，建议使用时间范围限制
4. **分支统计** - 默认统计当前分支，不包含其他分支的提交

## 相关命令

- [clean-code](./clean-code.md) - Vue项目死代码清理
- [debug-file](./debug-file.md) - 文件引用调试